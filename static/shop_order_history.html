<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Order History</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Space+Grotesk%3Awght%40400%3B500%3B700" />
    <style>
        .content-container { opacity: 0; transition: opacity 0.5s ease-in-out; }
        .content-container.loaded { opacity: 1; }
        .filter-btn.active { background-color: #f3dd39; color: #1c1a0d; }
    </style>
</head>
<body class="bg-gray-100">
    <div class="mx-auto max-w-sm">
        <div class="relative bg-[#fcfbf8] min-h-screen">
            <div class="pb-24">
                <div class="content-container">
                    <div class="flex items-center bg-[#fcfbf8] p-4 pb-2 justify-between sticky top-0 z-10 border-b border-[#f3f2e7]">
                        <a href="./shop_orders.html" class="text-[#1c1a0d] flex size-12 shrink-0 items-center -ml-2"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg></a>
                        <h2 class="text-[#1c1a0d] text-lg font-bold flex-1 text-center pr-10">Order History</h2>
                    </div>
                    <div class="p-4 flex gap-2 justify-center">
                        <button class="filter-btn active text-sm font-medium px-4 py-2 rounded-full bg-[#f3f2e7]" data-days="7">Last 7 Days</button>
                        <button class="filter-btn text-sm font-medium px-4 py-2 rounded-full bg-[#f3f2e7]" data-days="30">Last 30 Days</button>
                        <button class="filter-btn text-sm font-medium px-4 py-2 rounded-full bg-[#f3f2e7]" data-days="9999">All Time</button>
                    </div>
                    <div id="completed-orders-container" class="p-4 pt-0 flex flex-col gap-3"></div>
                </div>
            </div>
            <!-- Navigation Bar -->
             <div class="fixed bottom-0 z-10 w-full max-w-sm">
                <div class="flex justify-around border-t border-[#f3f2e7] bg-[#fcfbf8] px-2 pb-3 pt-2">
                    <a class="flex flex-1 flex-col items-center justify-end gap-1 text-[#9b924b]" href="./shop_dashboard.html"><div class="flex h-8 items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M224,115.55V208a16,16,0,0,1-16,16H168a16,16,0,0,1-16-16V168a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v40a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V115.55a16,16,0,0,1,5.17-11.78l80-75.48.11-.11a16,16,0,0,1,21.53,0l.11.11,80,75.48A16,16,0,0,1,224,115.55Z"></path></svg></div><p class="text-xs font-medium leading-normal tracking-[0.015em]">Dashboard</p></a>
                    <a class="flex flex-1 flex-col items-center justify-end gap-1 text-[#1c1a0d]" href="./shop_orders.html"><div class="flex h-8 items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V208a8,8,0,0,0,11.58,7.15L64,200.94l28.42,14.21a8,8,0,0,0,7.16,0L128,200.94l28.42,14.21a8,8,0,0,0,7.16,0L192,200.94l28.42,14.21A8,8,0,0,0,232,208V56A16,16,0,0,0,216,40ZM176,144H80a8,8,0,0,1,0-16h96a8,8,0,0,1,0,16Zm0-32H80a8,8,0,0,1,0-16h96a8,8,0,0,1,0,16Z"></path></svg></div><p class="text-xs font-medium leading-normal tracking-[0.015em]">Orders</p></a>
                    <a class="flex flex-1 flex-col items-center justify-end gap-1 text-[#9b924b]" href="./shop_products.html"><div class="flex h-8 items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M80,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H88A8,8,0,0,1,80,64Zm136,56H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM44,52A12,12,0,1,0,56,64,12,12,0,0,0,44,52Zm0,64a12,12,0,1,0,12,12A12,12,0,0,0,44,116Zm0,64a12,12,0,1,0,12,12A12,12,0,0,0,44,180Z"></path></svg></div><p class="text-xs font-medium leading-normal tracking-[0.015em]">Products</p></a>
                    <a class="flex flex-1 flex-col items-center justify-end gap-1 text-[#9b924b]" href="./shop_settings.html"><div class="flex h-8 items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"></path></svg></div><p class="text-xs font-medium leading-normal tracking-[0.015em]">Profile</p></a>
                </div>
            </div>
        </div>
    </div>
    <script src="shop_logic.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async function () {
            document.querySelector('.content-container').classList.add('loaded');
            await fetchHistory();

            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    filterOrdersByDays(button.dataset.days);
                });
            });
        });
    </script>
</body>
</html>